<!--- Plugin module -->
<script type="module">
  import init, { TokenizerWasm } from "./tokenizers-wasm/tokenizers_wasm.js";

  async function getTokenizer(name) {
    await init();
    const jsonText = await (await fetch("https://huggingface.co/" + name + "/raw/main/tokenizer.json")).text();
    return new TokenizerWasm(jsonText);
  }

  tvmjsGlobalEnv.getTokenizer = getTokenizer;
</script>

<script src="stable_diffusion.js"></script>

<h2> Web Stable Diffusion </h2>

<div>
  Input Prompt <input
  name="inputPrompt"
  id="inputPrompt"
  type="text"
  value="A photo of an astronaut riding a horse on mars"
  size="77"
/>
</div>
<div>
  <button onclick="generate()">Generate</button></br>
</div>
<div>
<canvas id="canvas" width="512" height="512"></canvas>
</div>